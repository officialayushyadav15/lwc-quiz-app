<template>
    <lightning-card title="Quiz App">
        <div class="slds-m-around_medium">

            <form>

                <template for:each={questionsWithNumber} for:item="quiz">
                    <div key={quiz.id} class="question-box slds-m-bottom_medium">

                        <strong>{quiz.number}. {quiz.question}</strong>

                        <div class="slds-m-top_small slds-form-element">

                            <div class="slds-form-element__control slds-m-bottom_x-small">
                                <label class="slds-radio">
                                    <input type="radio"
                                           name={quiz.id}
                                           value="a"
                                           onchange={changeHandler} />
                                    <span class="slds-radio_faux"></span>
                                    <span class="slds-form-element__label">
                                        {quiz.answers.a}
                                    </span>
                                </label>
                            </div>

                            <div class="slds-form-element__control slds-m-bottom_x-small">
                                <label class="slds-radio">
                                    <input type="radio"
                                           name={quiz.id}
                                           value="b"
                                           onchange={changeHandler} />
                                    <span class="slds-radio_faux"></span>
                                    <span class="slds-form-element__label">
                                        {quiz.answers.b}
                                    </span>
                                </label>
                            </div>

                            <div class="slds-form-element__control slds-m-bottom_x-small">
                                <label class="slds-radio">
                                    <input type="radio"
                                           name={quiz.id}
                                           value="c"
                                           onchange={changeHandler} />
                                    <span class="slds-radio_faux"></span>
                                    <span class="slds-form-element__label">
                                        {quiz.answers.c}
                                    </span>
                                </label>
                            </div>

                            <div class="slds-form-element__control">
                                <label class="slds-radio">
                                    <input type="radio"
                                           name={quiz.id}
                                           value="d"
                                           onchange={changeHandler} />
                                    <span class="slds-radio_faux"></span>
                                    <span class="slds-form-element__label">
                                        {quiz.answers.d}
                                    </span>
                                </label>
                            </div>

                        </div>
                    </div>
                </template>

                <!-- SCORE MESSAGE (LEFT ALIGNED, ONLY AFTER SUBMIT) -->
                <template if:true={showScore}>
                    <div class="slds-text-heading_medium slds-m-top_large slds-m-bottom_medium">
                        You have scored {correctAnswersCount} out of {quizQuestions.length}
                    </div>
                </template>

                <lightning-button
                    label="Submit"
                    variant="brand"
                    class="slds-m-right_small"
                    disabled={allNotSelected}
                    onclick={submitHandler}>
                </lightning-button>

                <lightning-button
                    label="Reset"
                    variant="neutral"
                    onclick={resetHandler}>
                </lightning-button>

            </form>
        </div>
    </lightning-card>
</template>
